@import b3.inline.fieldConstructor
@(user_id: String, symbol: String, yyyy: String, mm: String)(implicit messages:Messages)

@VERSION_SYMBOL = @{ Version.getVersionSymbol }
@EMPLOYEE_CODE = @{ Employees.getEmployeeCode(user_id) }
@YEAR = @{ CalendarDates.GetNowYear }
@MONTH = @{ CalendarDates.GetNowMonth }
@DAY = @{ CalendarDates.GetNowDay }
@YEARS = @{ CalendarDates.GetNowYear + "/" + CalendarDates.GetNowMonth }
@FISCAL_YEAR = @{ CalendarDates.GetFiscalYear}
@EmployeeType = @{ Employees.getEmployeeType(user_id) }

<html lang="ja">
    <head>
        <!-- ヘッダー共通部分 引数はページタイトル -->
        @common_header("ビューテンプレート")
        <!-- 個別の読み込みが必要な場合はここに追加で記述 -->
        <script src="@routes.Assets.versioned("javascripts/headerUtility.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/headerCurrentTime.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/headerTimeCard.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/lockPage.js")" type="text/javascript"></script>
        <!-- datepicker使用のための読込 -->
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bootstrap-datepicker.min.js"))'></script>
        <script src='@routes.WebJarAssets.at(WebJarAssets.locate("bootstrap-datepicker.ja.min.js"))'></script>
        <script src="@routes.Assets.versioned("javascripts/datePicker.js")" type="text/javascript"></script>
        <!-- ページコンテンツ構成用のJS -->
        <script src="@routes.Assets.versioned("javascripts/commonFilter.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/lockFilter.js")" type="text/javascript"></script>
        <script src="@routes.Assets.versioned("javascripts/tableLock.js")" type="text/javascript"></script>
    </head>
    <body>
        <div id="id-page-body"></div>
        @common_config(user_id)
        <script>
            var submenuConfig = {
                role: {
                    isManager: "@RoleControl.getManager(user_id)",
                    isBusiness: "@RoleControl.getBusiness(user_id)"
                },
                moveURL:{
                    timecardEdit: "@routes.TimeCardController.edit(VERSION_SYMBOL, EMPLOYEE_CODE, YEAR, MONTH)",
                    timecardShow: "@routes.TimeCardController.show(VERSION_SYMBOL, YEAR, MONTH)"
                }
            }

            var mainConfig = {
                empID: "@Employees.GetEmployeeId(user_id)",
                datepicker: {
                    config: {
                        action: "@routes.LockController.redirectShow",
                        language: "ja",
                        format: "yyyy-mm",
                        startDate: "2017-04",
                        minViewMode: 1,
                        autoclose: true,
                        default: "@yyyy" + "-" + "@mm",
                        customStyle: { "width": 80 } 
                    }
                },
                role: {
                    isManager: "@RoleControl.getManager(user_id)",
                    isBusiness: "@RoleControl.getBusiness(user_id)",
                },
                jsonURL: {
                    getInternalDivision: "@routes.Types.getInternalDivision",
                    getCustomGroup: "@routes.GroupContrller.getInfo",
                    getManageList: "@routes.ManageUserEdit.getList"
                }
            }
            renderPageBody(headerConfig, submenuConfig, mainConfig)
        </script>
    </body>
</html>
